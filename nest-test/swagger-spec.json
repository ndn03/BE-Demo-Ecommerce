{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/system/check-time":{"get":{"operationId":"AppController_checkTimeSetting","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/v1/user/register":{"post":{"operationId":"AuthController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegistrationDto"}}}},"responses":{"201":{"description":""}},"summary":"Register user","tags":["Auth"]}},"/v1/user/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":""}},"summary":"Login user","tags":["Auth"]}},"/v1/user/refresh-token":{"post":{"operationId":"AuthController_refreshToken","parameters":[],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Refresh token user","tags":["Auth"]}},"/v1/user/logout":{"post":{"operationId":"AuthController_logout","parameters":[],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Logout user","tags":["Auth"]}},"/v1/user/forgot-password":{"post":{"operationId":"AuthController_forgotPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordDto"}}}},"responses":{"200":{"description":""}},"summary":"Gửi mật khẩu mới tới email người dùng","tags":["Auth"]}},"/v1/user/create-user":{"post":{"operationId":"UserController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"[ADMINISTRATOR] Create user","tags":["User"]}},"/v1/user/find-all":{"get":{"operationId":"UserController_findAll","parameters":[{"name":"search","required":false,"in":"query","description":"Default \"\"","schema":{"default":"","type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of page","schema":{"minimum":0,"maximum":100,"default":10,"example":10,"type":"number"}},{"name":"isPagination","required":false,"in":"query","description":"Pagination flag, 1 for true, 0 for false","schema":{"example":1,"type":"number"}},{"name":"order","required":false,"in":"query","schema":{"default":"DESC","type":"string","enum":["DESC","ASC"]}},{"name":"inIds[]","required":false,"in":"query","schema":{"type":"array","items":{"type":"number"}}},{"name":"notInIds[]","required":false,"in":"query","schema":{"type":"array","items":{"type":"number"}}},{"name":"isDeleted","required":false,"in":"query","description":"isDelete must be 0 | 1","schema":{"type":"number"}},{"name":"withDeleted","required":false,"in":"query","description":"isDelete must be 0 | 1","schema":{"default":0,"type":"number"}},{"name":"orderBy","required":false,"in":"query","schema":{"default":"id","type":"string","enum":["id","updatedAt","createdAt","fullName","code","email"]}},{"name":"isActive","required":false,"in":"query","description":"Must be 0 | 1","schema":{"type":"number"}},{"name":"role","required":false,"in":"query","schema":{"type":"string","enum":["ADMINISTRATOR","HUMAN_RESOURCES","EMPLOYEE","CUSTOMER","CUSTOMER_VIP1","CUSTOMER_VIP2","CUSTOMER_VIP3"]}},{"name":"code","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"[ADMINISTRATOR] Get list user","tags":["User"]}},"/v1/user/{id}":{"get":{"operationId":"UserController_findOne","parameters":[{"name":"id","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"[ADMINISTRATOR] Get user by id","tags":["User"]},"delete":{"operationId":"UserController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"[ADMINISTRATOR] Delete user by id","tags":["User"]}},"/v1/user/change-password":{"patch":{"operationId":"UserController_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Change user password","tags":["User"]}},"/v1/user/my/email":{"patch":{"operationId":"UserController_changeMyEmail","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/changeMyEmailDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Change my own email","tags":["User"]}},"/v1/user/update-user/{id}":{"patch":{"operationId":"UserController_updateUserById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserHasProfileDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"[ADMINISTRATOR] Update user by id","tags":["User"]}},"/v1/user/my-profile":{"patch":{"operationId":"UserController_updateMyProfile","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrUpdateUserProfileDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Update my profile","tags":["User"]}},"/v1/user/{id}/set-password":{"patch":{"operationId":"UserController_setPassword","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"[ADMINISTRATOR] Set password user by id","tags":["User"]}},"/v1/user/soft-delete/{id}":{"delete":{"operationId":"UserController_softDeleteUser","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"[ADMINISTRATOR] Soft delete user by id","tags":["User"]}},"/v1/user/restore/{id}":{"patch":{"operationId":"UserController_restoreUser","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"[ADMINISTRATOR] Restore user by id","tags":["User"]}},"/v1/mail/send-mailer":{"post":{"operationId":"MailController_sendMailer","parameters":[],"responses":{"200":{"description":""}},"summary":"Send mailer (for testing)","tags":["Mailer"]}},"/v1/media/upload/single":{"post":{"description":"Upload a single file with validation and optional parameters","operationId":"MediaController_uploadSingleFile","parameters":[],"requestBody":{"required":true,"description":"Single file upload with optional parameters","content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/UploadMediaDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"[ADMINISTRATOR] Upload single file","tags":["Media"]}},"/v1/media/upload/multiple":{"post":{"operationId":"MediaController_uploadMultipleFiles","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/UploadMultipleFilesDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"[ADMINISTRATOR] Upload multiple files","tags":["Media"]}},"/v1/media/files/info":{"post":{"operationId":"MediaController_getFilesInfo","parameters":[],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Get info for multiple files by IDs (Uploadcare)","tags":["Media"]}},"/v1/media/files":{"get":{"operationId":"MediaController_listFiles","parameters":[],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"List uploaded files (Uploadcare)","tags":["Media"]}},"/v1/media/uploadcare/rollback":{"post":{"operationId":"MediaController_rollbackUploadcare","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteFilesFromUploadcareDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Rollback uploaded files on Uploadcare (delete by IDs)","tags":["Media"]}},"/v1/media/uploadcare/delete":{"delete":{"operationId":"MediaController_deleteSingle","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteFileFromUploadcareDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Delete a single file on Uploadcare","tags":["Media"]}},"/v1/media/uploadcare/delete-many":{"delete":{"operationId":"MediaController_deleteMany","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteFilesFromUploadcareDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Delete multiple files on Uploadcare","tags":["Media"]}},"/v1/media/download":{"post":{"operationId":"MediaController_download","parameters":[],"requestBody":{"required":true,"description":"Provide file id (Uploadcare UUID) and optional preferred filename","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Uploadcare file UUID"},"filename":{"type":"string","description":"Preferred download filename"}},"required":["id"]}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Get direct CDN URL for a file on Uploadcare","tags":["Media"]}},"/v1/categories/create-category":{"post":{"operationId":"CategoriesController_createCategory","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Create category","tags":["category"]}},"/v1/categories/list-categories":{"get":{"operationId":"CategoriesController_listCategories","parameters":[{"name":"search","required":false,"in":"query","description":"Default \"\"","schema":{"default":"","type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of page","schema":{"minimum":0,"maximum":100,"default":10,"example":10,"type":"number"}},{"name":"isPagination","required":false,"in":"query","description":"Pagination flag, 1 for true, 0 for false","schema":{"example":1,"type":"number"}},{"name":"order","required":false,"in":"query","schema":{"default":"DESC","type":"string","enum":["DESC","ASC"]}},{"name":"inIds[]","required":false,"in":"query","schema":{"type":"array","items":{"type":"number"}}},{"name":"notInIds[]","required":false,"in":"query","schema":{"type":"array","items":{"type":"number"}}},{"name":"isDeleted","required":false,"in":"query","description":"isDelete must be 0 | 1","schema":{"type":"number"}},{"name":"withDeleted","required":false,"in":"query","description":"isDelete must be 0 | 1","schema":{"default":0,"type":"number"}},{"name":"orderBy","required":false,"in":"query","schema":{"default":"name","type":"string","enum":["id","updatedAt","createdAt","name","description","isActive"]}},{"name":"name","required":false,"in":"query","schema":{"type":"string"}},{"name":"description","required":false,"in":"query","schema":{"type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Must be 0 | 1","schema":{"type":"number"}},{"name":"creatorId","required":false,"in":"query","description":"Creator id","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"List categories","tags":["category"]}},"/v1/categories/{id}":{"get":{"operationId":"CategoriesController_getCategoryById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Get category by ID","tags":["category"]},"patch":{"operationId":"CategoriesController_updateCategory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Update category by ID","tags":["category"]}},"/v1/categories/soft-remove/{id}":{"delete":{"operationId":"CategoriesController_softRemoveCategory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Soft remove category by ID","tags":["category"]}},"/v1/categories/restore/{id}":{"patch":{"operationId":"CategoriesController_restoreCategory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Restore category by ID","tags":["category"]}},"/v1/categories/delete/{id}":{"delete":{"operationId":"CategoriesController_deleteCategory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Delete category by ID","tags":["category"]}},"/v1/brand/create":{"post":{"operationId":"BrandsController_createBrand","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/CreateBrandDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Create brand","tags":["Brands"]}},"/v1/brand/list-brands":{"get":{"operationId":"BrandsController_listBrands","parameters":[{"name":"search","required":false,"in":"query","description":"Default \"\"","schema":{"default":"","type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of page","schema":{"minimum":0,"maximum":100,"default":10,"example":10,"type":"number"}},{"name":"isPagination","required":false,"in":"query","description":"Pagination flag, 1 for true, 0 for false","schema":{"example":1,"type":"number"}},{"name":"order","required":false,"in":"query","schema":{"default":"DESC","type":"string","enum":["DESC","ASC"]}},{"name":"inIds[]","required":false,"in":"query","schema":{"type":"array","items":{"type":"number"}}},{"name":"notInIds[]","required":false,"in":"query","schema":{"type":"array","items":{"type":"number"}}},{"name":"isDeleted","required":false,"in":"query","description":"isDelete must be 0 | 1","schema":{"type":"number"}},{"name":"withDeleted","required":false,"in":"query","description":"isDelete must be 0 | 1","schema":{"default":0,"type":"number"}},{"name":"orderBy","required":false,"in":"query","schema":{"default":"name","type":"string","enum":["id","updatedAt","createdAt","name","description","isActive"]}},{"name":"name","required":false,"in":"query","schema":{"type":"string"}},{"name":"description","required":false,"in":"query","schema":{"type":"string"}},{"name":"country","required":false,"in":"query","schema":{"type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Must be 0 | 1","schema":{"type":"number"}},{"name":"creatorId","required":false,"in":"query","description":"Creator id","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"List brands","tags":["Brands"]}},"/v1/brand/{id}":{"get":{"operationId":"BrandsController_getBrandById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Get brand by ID","tags":["Brands"]},"patch":{"operationId":"BrandsController_updateBrand","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/UpdateBrandDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Update a brand with optional logo","tags":["Brands"]}},"/v1/brand/soft-remove/{id}":{"delete":{"operationId":"BrandsController_softRemoveBrand","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Soft remove brand by ID","tags":["Brands"]}},"/v1/brand/restore/{id}":{"patch":{"operationId":"BrandsController_restoreBrand","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Restore brand by ID","tags":["Brands"]}},"/v1/brand/remove/{id}":{"delete":{"operationId":"BrandsController_hardRemoveBrand","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Hard remove brand by ID","tags":["Brands"]}},"/v1/product/create":{"post":{"operationId":"ProductController_createProduct","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Create product","tags":["Product"]}},"/v1/product":{"get":{"operationId":"ProductController_getAllProducts","parameters":[{"name":"search","required":false,"in":"query","description":"Default \"\"","schema":{"default":"","type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of page","schema":{"minimum":0,"maximum":100,"default":10,"example":10,"type":"number"}},{"name":"isPagination","required":false,"in":"query","description":"Pagination flag, 1 for true, 0 for false","schema":{"example":1,"type":"number"}},{"name":"order","required":false,"in":"query","schema":{"default":"DESC","type":"string","enum":["DESC","ASC"]}},{"name":"inIds[]","required":false,"in":"query","schema":{"type":"array","items":{"type":"number"}}},{"name":"notInIds[]","required":false,"in":"query","schema":{"type":"array","items":{"type":"number"}}},{"name":"isDeleted","required":false,"in":"query","description":"isDelete must be 0 | 1","schema":{"type":"number"}},{"name":"withDeleted","required":false,"in":"query","description":"isDelete must be 0 | 1","schema":{"default":0,"type":"number"}},{"name":"orderBy","required":false,"in":"query","schema":{"default":"name","type":"string","enum":["id","updatedAt","createdAt","name","price","discount","final_price","stock","status","isActive"]}},{"name":"name","required":false,"in":"query","schema":{"type":"string"}},{"name":"description","required":false,"in":"query","schema":{"type":"string"}},{"name":"price","required":false,"in":"query","schema":{"type":"number"}},{"name":"typeDiscount","required":false,"in":"query","schema":{"default":"PERCENTAGE","type":"string","enum":["PERCENTAGE","AMOUNT","NO_DISCOUNT"]}},{"name":"final_price","required":false,"in":"query","schema":{"type":"number"}},{"name":"stock","required":false,"in":"query","schema":{"type":"number"}},{"name":"status","required":false,"in":"query","schema":{"type":"string"}},{"name":"isActive","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"creatorId","required":false,"in":"query","description":"Creator id","schema":{"type":"number"}},{"name":"from","required":false,"in":"query","description":"From date","schema":{"format":"date-time","type":"string"}},{"name":"to","required":false,"in":"query","description":"To date","schema":{"format":"date-time","type":"string"}},{"name":"priceRangeFrom","required":false,"in":"query","description":"price range","schema":{"type":"number"}},{"name":"priceRangeTo","required":false,"in":"query","description":"price range","schema":{"type":"number"}},{"name":"categoryIds[]","required":false,"in":"query","description":"Category ids","schema":{"type":"array","items":{"type":"number"}}}],"responses":{"200":{"description":""}},"summary":"Get all products","tags":["Product"]}},"/v1/product/{id}":{"get":{"operationId":"ProductController_getProductById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Get product by ID","tags":["Product"]}},"/v1/product/update/{id}":{"patch":{"operationId":"ProductController_updateProduct","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Update product","tags":["Product"]}},"/v1/product/softDelete/{id}":{"delete":{"operationId":"ProductController_softDeleteProduct","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Soft delete product by ID","tags":["Product"]}},"/v1/product/restore/{id}":{"patch":{"operationId":"ProductController_restoreProduct","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Restore soft deleted product by ID","tags":["Product"]}},"/v1/product/remove/{id}":{"delete":{"operationId":"ProductController_deleteProduct","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Hard delete product by ID","tags":["Product"]}},"/v1/cart/add":{"post":{"operationId":"CartController_addToCart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddCartDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Create brand","tags":["Cart"]}},"/v1/cart":{"get":{"operationId":"CartController_getCart","parameters":[],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Get cart","tags":["Cart"]},"delete":{"operationId":"CartController_clearCart","parameters":[],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Clear cart","tags":["Cart"]}},"/v1/cart/item/{id}":{"delete":{"operationId":"CartController_deleteCartItem","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Delete item from cart","tags":["Cart"]}},"/v1/cart/item":{"patch":{"operationId":"CartController_updateCartItem","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCartDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Update cart item quantity","tags":["Cart"]}},"/v1/cart/voucher/{voucherCode}":{"post":{"operationId":"CartController_applyVoucher","parameters":[{"name":"voucherCode","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Apply voucher to cart","tags":["Cart"]}},"/v1/cart/voucher":{"delete":{"operationId":"CartController_removeVoucher","parameters":[],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Remove voucher from cart","tags":["Cart"]}},"/v1/cart/checkout":{"post":{"operationId":"CartController_checkout","parameters":[],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Checkout cart to create order","tags":["Cart"]}},"/api/v1/vouchers":{"post":{"description":"Tạo voucher mới với các thông tin chi tiết (chỉ Admin/HR)","operationId":"VoucherController_createVoucher","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVoucherDto"}}}},"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Tạo voucher mới","tags":["Voucher Management"]}},"/api/v1/vouchers/list-categories":{"get":{"operationId":"VoucherController_listCategories","parameters":[{"name":"search","required":false,"in":"query","description":"Default \"\"","schema":{"default":"","type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of page","schema":{"minimum":0,"maximum":100,"default":10,"example":10,"type":"number"}},{"name":"isPagination","required":false,"in":"query","description":"Pagination flag, 1 for true, 0 for false","schema":{"example":1,"type":"number"}},{"name":"order","required":false,"in":"query","schema":{"default":"DESC","type":"string","enum":["DESC","ASC"]}},{"name":"inIds[]","required":false,"in":"query","schema":{"type":"array","items":{"type":"number"}}},{"name":"notInIds[]","required":false,"in":"query","schema":{"type":"array","items":{"type":"number"}}},{"name":"isDeleted","required":false,"in":"query","description":"isDelete must be 0 | 1","schema":{"type":"number"}},{"name":"withDeleted","required":false,"in":"query","description":"isDelete must be 0 | 1","schema":{"default":0,"type":"number"}},{"name":"orderBy","required":false,"in":"query","schema":{"default":"code","type":"string","enum":["id","updatedAt","createdAt","code","price","discount","status","isActive"]}},{"name":"code","required":false,"in":"query","schema":{"type":"string"}},{"name":"description","required":false,"in":"query","schema":{"type":"string"}},{"name":"value_discount","required":false,"in":"query","schema":{"type":"number"}},{"name":"discount_type","required":false,"in":"query","schema":{"type":"string","enum":["PERCENTAGE","AMOUNT","NO_DISCOUNT"]}},{"name":"targetType","required":false,"in":"query","schema":{"type":"number","enum":[0,1,2,3]}},{"name":"targetReceiverGroup","required":false,"in":"query","schema":{"type":"number","enum":[0,1,2,3,4,5]}},{"name":"status","required":false,"in":"query","schema":{"type":"string"}},{"name":"validFrom","required":false,"in":"query","schema":{"format":"date-time","type":"string"}},{"name":"validTo","required":false,"in":"query","schema":{"format":"date-time","type":"string"}},{"name":"min_order_value","required":false,"in":"query","schema":{"type":"number"}},{"name":"max_discount_value","required":false,"in":"query","schema":{"type":"number"}},{"name":"usage_limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"per_user_limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"used_count","required":false,"in":"query","schema":{"type":"number"}},{"name":"isActive","required":false,"in":"query","description":"Must be 0 | 1","schema":{"type":"number"}},{"name":"creatorId","required":false,"in":"query","description":"Creator id","schema":{"type":"number"}},{"name":"list_targetType[]","required":false,"in":"query","description":"Category ids","schema":{"type":"array","items":{"type":"number"}}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"List categories","tags":["Voucher Management"]}},"/api/v1/vouchers/{id}":{"get":{"description":"Lấy thông tin chi tiết của voucher với đầy đủ relations","operationId":"VoucherController_getVoucherById","parameters":[{"name":"id","required":true,"in":"path","description":"ID của voucher","schema":{"type":"number"}},{"name":"withDeleted","required":true,"in":"query","schema":{"type":"boolean"}},{"name":"withRelations","required":true,"in":"query","schema":{"type":"boolean"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Lấy chi tiết voucher theo ID","tags":["Voucher Management"]},"patch":{"description":"Cập nhật thông tin voucher với validation đầy đủ (chỉ Admin/HR)","operationId":"VoucherController_updateVoucher","parameters":[{"name":"id","required":true,"in":"path","description":"ID của voucher","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateVoucherDto"}}}},"responses":{"200":{"description":"Cập nhật thành công"},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Unauthorized"},"404":{"description":"Không tìm thấy voucher"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Cập nhật voucher","tags":["Voucher Management"]}},"/v1/orders/from-cart":{"post":{"description":"Convert user cart to order with inventory validation and voucher application","operationId":"OrderController_createOrderFromCart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderFromCartDto"}}}},"responses":{"401":{"description":"Unauthorized"},"404":{"description":"Cart or voucher not found"}},"security":[{"bearer":[]},{"bearer":[]},{"bearer":[]}],"summary":"Create order from cart","tags":["📦 Order Management"]}},"/v1/orders":{"post":{"description":"Create order directly with product list, inventory and pricing validation","operationId":"OrderController_createOrder","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderDto"}}}},"responses":{"201":{"description":"Order created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdersEntity"}}}},"400":{"description":"Bad request - invalid products or insufficient stock"},"401":{"description":"Unauthorized"},"404":{"description":"Product or voucher not found"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Create order directly","tags":["📦 Order Management"]},"get":{"description":"Get paginated list of user orders with filtering options","operationId":"OrderController_getMyOrders","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"example":10,"type":"number"}},{"name":"status","required":false,"in":"query","description":"Filter by order status","schema":{"example":"PENDING","type":"string","enum":["PENDING","PROCESSING","SHIPPED","DELIVERED","CANCELLED","RETURNED","REFUNDED"]}},{"name":"fromDate","required":false,"in":"query","description":"From date (YYYY-MM-DD)","schema":{"example":"2025-01-01","type":"string"}},{"name":"toDate","required":false,"in":"query","description":"To date (YYYY-MM-DD)","schema":{"example":"2025-12-31","type":"string"}}],"responses":{"200":{"description":"Orders retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"orders":{"type":"array","items":{"$ref":"#/components/schemas/OrdersEntity"}},"total":{"type":"number"},"pages":{"type":"number"},"currentPage":{"type":"number"}}}}}}}},"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Get user orders","tags":["📦 Order Management"]}},"/v1/orders/admin/all":{"get":{"description":"Get paginated list of all orders for admin management","operationId":"OrderController_getAllOrders","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"example":10,"type":"number"}},{"name":"status","required":false,"in":"query","description":"Filter by order status","schema":{"example":"PENDING","type":"string","enum":["PENDING","PROCESSING","SHIPPED","DELIVERED","CANCELLED","RETURNED","REFUNDED"]}},{"name":"fromDate","required":false,"in":"query","description":"Từ ngày (YYYY-MM-DD)","schema":{"example":"2025-01-01","type":"string"}},{"name":"toDate","required":false,"in":"query","description":"Đến ngày (YYYY-MM-DD)","schema":{"example":"2025-12-31","type":"string"}}],"responses":{"200":{"description":"Orders retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","properties":{"orders":{"type":"array","items":{"$ref":"#/components/schemas/OrdersEntity"}},"total":{"type":"number"},"pages":{"type":"number"},"currentPage":{"type":"number"}}}}}}}}},"security":[{"bearer":[]}],"summary":"Admin get all orders","tags":["📦 Order Management"]}},"/v1/orders/{id}":{"get":{"description":"Get detailed information of specific order with ownership validation","operationId":"OrderController_getOrderById","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"number"}}],"responses":{"200":{"description":"Order retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdersEntity"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access denied - not order owner"},"404":{"description":"Order not found"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Get order by ID","tags":["📦 Order Management"]}},"/v1/orders/{id}/status":{"put":{"description":"Update order status with workflow validation and business rules","operationId":"OrderController_updateOrderStatus","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderStatusDto"}}}},"responses":{"200":{"description":"Order status updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdersEntity"}}}},"400":{"description":"Bad request - invalid status transition"},"401":{"description":"Unauthorized"},"403":{"description":"Access denied - not order owner"},"404":{"description":"Order not found"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Update order status","tags":["📦 Order Management"]}},"/v1/orders/{id}/cancel":{"delete":{"description":"Cancel order and restore inventory if applicable","operationId":"OrderController_cancelOrder","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"number"}}],"responses":{"200":{"description":"Order cancelled successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdersEntity"}}}},"400":{"description":"Bad request - order cannot be cancelled"},"401":{"description":"Unauthorized"},"403":{"description":"Access denied - not order owner"},"404":{"description":"Order not found"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Cancel order","tags":["📦 Order Management"]}},"/v1/orders/stats/overview":{"get":{"description":"Get order statistics grouped by time periods with revenue metrics","operationId":"OrderController_getOrderStatistics","parameters":[{"name":"fromDate","required":false,"in":"query","description":"From date (YYYY-MM-DD)","schema":{"example":"2025-01-01","type":"string"}},{"name":"toDate","required":false,"in":"query","description":"To date (YYYY-MM-DD)","schema":{"example":"2025-12-31","type":"string"}},{"name":"groupBy","required":false,"in":"query","description":"Group by period: day, week, month, year","schema":{"enum":["day","week","month","year"],"type":"string"}}],"responses":{"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Get order statistics","tags":["📦 Order Management"]}},"/v1/orders/{id}/reorder":{"post":{"description":"Create new order based on existing order with current prices and inventory check","operationId":"OrderController_reorder","parameters":[{"name":"id","required":true,"in":"path","description":"Original Order ID","schema":{"type":"number"}}],"responses":{"201":{"description":"Reorder created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdersEntity"}}}},"401":{"description":"Unauthorized"}},"security":[{"bearer":[]},{"bearer":[]}],"summary":"Reorder from existing order","tags":["📦 Order Management"]}}},"info":{"title":"Nest-test API","description":"Tài liệu API cho ứng dụng Nest-test","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"UserRegistrationDto":{"type":"object","properties":{"email":{"type":"string","example":"example@gmail.com","maxLength":191},"username":{"type":"string","example":"employee123","maxLength":191},"password":{"type":"string","example":"123456","minLength":6,"maxLength":20},"confirmPassword":{"type":"string","example":"123456"}},"required":["email","username","password","confirmPassword"]},"LoginDto":{"type":"object","properties":{"username":{"type":"string","example":"example123"},"password":{"type":"string","example":"123456"}},"required":["username","password"]},"ForgotPasswordDto":{"type":"object","properties":{"email":{"type":"string","example":"example@gmail.com","maxLength":191}},"required":["email"]},"CreateUserDto":{"type":"object","properties":{"email":{"type":"string","example":"example@gmail.com","maxLength":191},"username":{"type":"string","example":"employee123","maxLength":191},"password":{"type":"string","example":"123456","minLength":6,"maxLength":20},"confirmPassword":{"type":"string","example":"123456"},"fullName":{"type":"string","maxLength":191},"role":{"type":"string","enum":["ADMINISTRATOR","HUMAN_RESOURCES","EMPLOYEE","CUSTOMER","CUSTOMER_VIP1","CUSTOMER_VIP2","CUSTOMER_VIP3"],"example":"CUSTOMER"},"registrationType":{"type":"string","default":"ACCOUNT_ISSUED","enum":["REGISTER_YOURSELF","ACCOUNT_ISSUED","ADMIN_ISSUED"]},"workShift":{"type":"string","default":"MORNING","enum":["MORNING","AFTERNOON","EVENING","NIGHT","ROTATING","FULL_DAY"]},"position":{"type":"string","default":"INTERN","enum":["DIRECTOR","MANAGER","TEAM_LEAD","STAFF","INTERN","ENGINEER","ACCOUNTANT","HR","SALE","CUSTOMER_SERVICE"]},"employmentType":{"type":"string","default":"FULL_TIME","enum":["FULL_TIME","TEMPORARY","PART_TIME","CONTRACT"]},"isActive":{"type":"number","description":"IsActive must be 0 | 1","default":1}},"required":["email","username","password","confirmPassword","fullName","role","registrationType","isActive"]},"ChangePasswordDto":{"type":"object","properties":{"currentPassword":{"type":"string","example":"123456"},"newPassword":{"type":"string","example":"123456","minLength":6,"maxLength":20},"confirmPassword":{"type":"string","example":"123456","minLength":6,"maxLength":20}},"required":["currentPassword","newPassword","confirmPassword"]},"changeMyEmailDto":{"type":"object","properties":{"currentEmail":{"type":"string","example":"example@gmail.com"},"password":{"type":"string","example":"123456"},"newEmail":{"type":"string","example":"new@example.com"}},"required":["currentEmail","password","newEmail"]},"UpdateUserHasProfileDto":{"type":"object","properties":{"role":{"type":"string","enum":["ADMINISTRATOR","HUMAN_RESOURCES","EMPLOYEE","CUSTOMER","CUSTOMER_VIP1","CUSTOMER_VIP2","CUSTOMER_VIP3"],"default":"EMPLOYEE"},"isActive":{"type":"number","description":"IsActive must be 0 | 1","default":1},"fullName":{"type":"string","maxLength":191},"subName":{"type":"string","description":"subName of the user","example":"abc123"},"phone":{"type":"string","default":null,"maxLength":191,"example":"1234567890"},"fullAddress":{"type":"string","default":null,"maxLength":191,"example":"123 Main St, City, Country"},"birthDay":{"format":"date-time","type":"string","example":"2025-10-23T07:06:51.737Z"},"workShift":{"type":"string","description":"Work shift of the user","example":"MORNING"},"position":{"type":"string","description":"Position of the user","example":"INTERN"},"gender":{"type":"string","description":"Gender of the user","example":"MALE"},"employmentType":{"type":"string","description":"Employee type of the user","example":"FULL_TIME"}}},"CreateOrUpdateUserProfileDto":{"type":"object","properties":{"fullName":{"type":"string","maxLength":191},"subName":{"type":"string","description":"subName of the user","example":"abc123"},"phone":{"type":"string","default":null,"maxLength":191,"example":"1234567890"},"fullAddress":{"type":"string","default":null,"maxLength":191,"example":"123 Main St, City, Country"},"birthDay":{"format":"date-time","type":"string","example":"2025-10-23T07:06:51.737Z"},"workShift":{"type":"string","description":"Work shift of the user","example":"MORNING"},"position":{"type":"string","description":"Position of the user","example":"INTERN"},"gender":{"type":"string","description":"Gender of the user","example":"MALE"},"employmentType":{"type":"string","description":"Employee type of the user","example":"FULL_TIME"}}},"UploadMediaDto":{"type":"object","properties":{"file":{"type":"string","format":"binary"}},"required":["file"]},"UploadMultipleFilesDto":{"type":"object","properties":{"files":{"type":"array","items":{"type":"string","format":"binary"},"description":"Array of files to upload (send under the same field name: files)"}},"required":["files"]},"DeleteFilesFromUploadcareDto":{"type":"object","properties":{"fileIds":{"type":"array","items":{"type":"string"}}},"required":["fileIds"]},"DeleteFileFromUploadcareDto":{"type":"object","properties":{"fileId":{"type":"string"}},"required":["fileId"]},"CreateCategoryDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}},"required":["name"]},"UpdateCategoryDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}},"CreateBrandDto":{"type":"object","properties":{"name":{"type":"string","maxLength":191,"description":"Tên thương hiệu"},"description":{"type":"string","maxLength":1200,"description":"Mô tả về thương hiệu"},"logo":{"type":"string","format":"binary","description":"Logo của thương hiệu"},"country":{"type":"string","maxLength":191,"description":"Xuất xứ của thương hiệu"}},"required":["name","country"]},"UpdateBrandDto":{"type":"object","properties":{"name":{"type":"string","maxLength":191,"description":"Tên thương hiệu"},"description":{"type":"string","maxLength":1200,"description":"Mô tả về thương hiệu"},"logo":{"type":"string","format":"binary","description":"Logo của thương hiệu"},"country":{"type":"string","maxLength":191,"description":"Xuất xứ của thương hiệu"}}},"CreateProductDto":{"type":"object","properties":{"name":{"type":"string","maxLength":191,"description":"Tên sản phẩm","example":"iPhone 14 Pro Max"},"description":{"type":"string","maxLength":1200,"description":"Mô tả về sản phẩm","example":"Sản phẩm chính hãng, mới 100%, nguyên seal"},"price":{"type":"number","example":100000},"stock":{"type":"number","example":50},"typeDiscount":{"type":"string","enum":["PERCENTAGE","AMOUNT","NO_DISCOUNT"],"description":"Loại giảm giá","default":"NO_DISCOUNT"},"isActive":{"type":"number","description":"Is active or not (must be 0 | 1)","enum":[0,1],"default":1},"final_price":{"type":"number"},"discount":{"type":"number","description":"Phần trăm, số tiền được giảm giá"},"image":{"type":"string","format":"binary","description":"Hình ảnh chính của sản phẩm"},"subImages":{"type":"array","items":{"type":"string","format":"binary"},"description":"Danh sách hình ảnh phụ của sản phẩm"},"status":{"type":"string","enum":["ACTIVE","INACTIVE","OUT_OF_STOCK","COMING_SOON","DISCONTINUED"],"default":"INACTIVE","description":"Trạng thái của sản phẩm"},"brand":{"type":"number","example":1,"description":"ID thương hiệu sản phẩm"},"categoryIds":{"description":"Danh sách ID danh mục sản phẩm","example":[2,3],"type":"array","items":{"type":"number"}}},"required":["name","price","stock","brand","categoryIds"]},"UpdateProductDto":{"type":"object","properties":{"name":{"type":"string","maxLength":191,"description":"Tên sản phẩm","example":"iPhone 14 Pro Max"},"description":{"type":"string","maxLength":1200,"description":"Mô tả về sản phẩm","example":"Sản phẩm chính hãng, mới 100%, nguyên seal"},"price":{"type":"number","example":100000},"stock":{"type":"number","example":50},"typeDiscount":{"type":"string","enum":["PERCENTAGE","AMOUNT","NO_DISCOUNT"],"description":"Loại giảm giá","default":"NO_DISCOUNT"},"isActive":{"type":"number","description":"Is active or not (must be 0 | 1)","enum":[0,1],"default":1},"final_price":{"type":"number"},"discount":{"type":"number","description":"Phần trăm, số tiền được giảm giá"},"image":{"type":"string","format":"binary","description":"Hình ảnh chính của sản phẩm"},"subImages":{"type":"array","items":{"type":"string","format":"binary"},"description":"Danh sách hình ảnh phụ của sản phẩm"},"status":{"type":"string","enum":["ACTIVE","INACTIVE","OUT_OF_STOCK","COMING_SOON","DISCONTINUED"],"default":"INACTIVE","description":"Trạng thái của sản phẩm"},"brand":{"type":"number","example":1,"description":"ID thương hiệu sản phẩm"},"categoryIds":{"description":"Danh sách ID danh mục sản phẩm","example":[2,3],"type":"array","items":{"type":"number"}}}},"AddCartDto":{"type":"object","properties":{"productIds":{"type":"number","description":"ID sản phẩm"},"quantity":{"type":"number","description":"Số lượng sản phẩm"},"voucher":{"type":"number","description":"ID voucher"}},"required":["quantity"]},"UpdateCartDto":{"type":"object","properties":{"itemId":{"type":"number","description":"ID của cart item cần update","example":1},"quantity":{"type":"number","description":"Số lượng mới (nếu = 0 thì sẽ xóa item)","example":2,"minimum":0}},"required":["itemId","quantity"]},"CreateVoucherDto":{"type":"object","properties":{"code":{"type":"string","description":"Mã voucher duy nhất","example":"SUMMER2024","maxLength":100},"campaignId":{"type":"number","description":"ID của campaign chứa voucher này (tùy chọn - tính năng chưa được triển khai)","example":1},"value_discount":{"type":"number"},"description":{"type":"string"},"discount_type":{"type":"string","enum":["PERCENTAGE","AMOUNT","NO_DISCOUNT"],"example":"PERCENTAGE","description":"Loại giảm giá: PERCENTAGE, AMOUNT"},"targetReceiverGroup":{"type":"number","example":1,"enum":[0,1,2,3,4,5],"description":"Receiver group (0: ALL, 1: HR, 2: EMPLOYEE, 3: CUSTOMER, 4: ALL_CUSTOMER)"},"receiverIds":{"description":"List of receiver IDs","example":[70,72,77],"type":"array","items":{"type":"string"}},"targetType":{"type":"number","enum":[0,1,2,3],"example":0,"description":"Loại target sản phẩm: ALL, BRAND, CATEGORY, PRODUCT"},"validFrom":{"format":"date-time","type":"string","description":"Thời gian bắt đầu hiệu lực"},"validTo":{"format":"date-time","type":"string","description":"Thời gian hết hạn"},"min_order_value":{"type":"number","description":"Giá trị đơn hàng tối thiểu để áp dụng voucher","example":100000},"max_discount_value":{"type":"number","description":"Giá trị đơn hàng tối đa để áp dụng voucher","example":100000},"usage_limit":{"type":"number","description":"Giới hạn số lần sử dụng","example":100},"used_count":{"type":"number","description":"Số lần đã được sử dụng (mặc định: 0)","example":0,"default":0},"per_user_limit":{"type":"number","description":"Giới hạn số lần sử dụng cho mỗi người dùng (mặc định: 1)","example":1,"default":1},"status":{"type":"string","enum":["ACTIVE","EXPIRED","DISABLED","UPCOMING"],"default":"ACTIVE","description":"Trạng thái của sản phẩm"},"isActive":{"type":"boolean","description":"Trạng thái kích hoạt voucher","default":true},"isPublic":{"type":"boolean","description":"Voucher công khai (người dùng có thể tự claim)","default":false},"list_targetType":{"description":"Danh sách ID sản phẩm áp dụng voucher","example":[1,2,3],"type":"array","items":{"type":"number"}}},"required":["code","value_discount","discount_type","targetType","validFrom","validTo","min_order_value"]},"UpdateVoucherDto":{"type":"object","properties":{"code":{"type":"string","description":"Mã voucher duy nhất","example":"SUMMER2024","maxLength":100},"campaignId":{"type":"number","description":"ID của campaign chứa voucher này (tùy chọn - tính năng chưa được triển khai)","example":1},"value_discount":{"type":"number"},"description":{"type":"string"},"discount_type":{"type":"string","enum":["PERCENTAGE","AMOUNT","NO_DISCOUNT"],"example":"PERCENTAGE","description":"Loại giảm giá: PERCENTAGE, AMOUNT"},"targetReceiverGroup":{"type":"number","example":1,"enum":[0,1,2,3,4,5],"description":"Receiver group (0: ALL, 1: HR, 2: EMPLOYEE, 3: CUSTOMER, 4: ALL_CUSTOMER)"},"receiverIds":{"description":"List of receiver IDs","example":[70,72,77],"type":"array","items":{"type":"string"}},"targetType":{"type":"number","enum":[0,1,2,3],"example":0,"description":"Loại target sản phẩm: ALL, BRAND, CATEGORY, PRODUCT"},"validFrom":{"format":"date-time","type":"string","description":"Thời gian bắt đầu hiệu lực"},"validTo":{"format":"date-time","type":"string","description":"Thời gian hết hạn"},"min_order_value":{"type":"number","description":"Giá trị đơn hàng tối thiểu để áp dụng voucher","example":100000},"max_discount_value":{"type":"number","description":"Giá trị đơn hàng tối đa để áp dụng voucher","example":100000},"usage_limit":{"type":"number","description":"Giới hạn số lần sử dụng","example":100},"used_count":{"type":"number","description":"Số lần đã được sử dụng (mặc định: 0)","example":0,"default":0},"per_user_limit":{"type":"number","description":"Giới hạn số lần sử dụng cho mỗi người dùng (mặc định: 1)","example":1,"default":1},"status":{"type":"string","enum":["ACTIVE","EXPIRED","DISABLED","UPCOMING"],"default":"ACTIVE","description":"Trạng thái của sản phẩm"},"isActive":{"type":"boolean","description":"Trạng thái kích hoạt voucher","default":true},"isPublic":{"type":"boolean","description":"Voucher công khai (người dùng có thể tự claim)","default":false},"list_targetType":{"description":"Danh sách ID sản phẩm áp dụng voucher","example":[1,2,3],"type":"array","items":{"type":"number"}},"products":{"description":"Danh sách ID sản phẩm áp dụng voucher","example":[1,2,3],"type":"array","items":{"type":"number"}},"recipients":{"description":"Danh sách ID người dùng nhận voucher (cho targetReceiverGroup cụ thể)","example":[1,2,3],"type":"array","items":{"type":"number"}}}},"CreateOrderFromCartDto":{"type":"object","properties":{"voucherCode":{"type":"string","description":"Mã voucher áp dụng","example":"DISCOUNT20"},"note":{"type":"string","description":"Ghi chú đơn hàng","example":"Giao hàng giờ hành chính"},"shippingAddress":{"type":"string","description":"Địa chỉ giao hàng","example":"123 Đường ABC, Quận 1, TP.HCM"}}},"OrderItemDto":{"type":"object","properties":{"productId":{"type":"number","description":"ID của sản phẩm","example":1},"quantity":{"type":"number","description":"Số lượng sản phẩm","example":2,"minimum":1},"price":{"type":"number","description":"Giá sản phẩm tại thời điểm đặt hàng","example":100000}},"required":["productId","quantity","price"]},"CreateOrderDto":{"type":"object","properties":{"voucherCode":{"type":"string","description":"Mã voucher (nếu có)","example":"DISCOUNT20"},"items":{"description":"Danh sách sản phẩm trong đơn hàng","type":"array","items":{"$ref":"#/components/schemas/OrderItemDto"}},"note":{"type":"string","description":"Ghi chú đơn hàng","example":"Giao hàng giờ hành chính"},"shippingAddress":{"type":"string","description":"Địa chỉ giao hàng (nếu khác địa chỉ mặc định)","example":"123 Đường ABC, Quận 1, TP.HCM"}},"required":["items"]},"OrdersEntity":{"type":"object","properties":{}},"UpdateOrderStatusDto":{"type":"object","properties":{"status":{"type":"string","enum":["PENDING","PROCESSING","SHIPPED","DELIVERED","CANCELLED","RETURNED","REFUNDED"],"description":"Trạng thái mới của đơn hàng","example":"PROCESSING"},"reason":{"type":"string","description":"Lý do thay đổi trạng thái","example":"Đơn hàng đã được xác nhận và chuẩn bị"}}}}}}